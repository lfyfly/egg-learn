webpackJsonp([1],{"/qmP":function(t,e){},"1Ww5":function(t,e){},"5cj6":function(t,e){},"7SNP":function(t,e){},"8qmP":function(t,e){},"F+tC":function(t,e){},Lsfi:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a=n("Dd8w"),s=n.n(a),r=n("//Fk"),o=n.n(r),c=n("mtWM"),l=n.n(c),u=n("QmSG"),d=n.n(u),v=n("NYxO"),h=n("MF5+");window.Promise||(window.Promise=h.a),i.a.use(v.a);var m=new v.a.Store({state:{downloadLink:_downloadLink,msg:"msg from vuex",isMobile:/(iPhone|iPod|iPad|Android|ios)/.test(navigator.userAgent),isProd:!0,playUrl:"",channelList:null,currChanelId:NaN,currMainData:null,currBannerData:null,vipDialogShow:!1},getters:{withoutChannelList:function(t){return t.channelList&&1===t.channelList.length}},mutations:{setPlayUrl:function(t,e){t.playUrl=e},setChannelList:function(t,e){t.channelList=e},setCurrChanelId:function(t,e){t.currChanelId=e},setCurrMainData:function(t,e){t.currMainData=e},setMoreData:function(t,e){t.currMoreData=e},setCurrBannerData:function(t,e){t.currBannerData=e},showVipDialog:function(t){t.vipDialogShow=!0},closeVipDialog:function(t){t.vipDialogShow=!1}}});l.a.interceptors.request.use(function(t){return m.state.isProd&&(t.url=d.a.baseUrl+t.url),t},function(t){return alert("请求错误\n"+t),o.a.reject(t)}),l.a.interceptors.response.use(function(t){return t},function(t){return o.a.reject(t)});var f=l.a,p=function(t){return f.get("/qryAllChnl.service").then(function(t){m.commit("setChannelList",t.data),m.commit("setCurrChanelId",t.data[0].id)})},_=function(){return f.get("/qryVideoChannelContentList.service",{params:{cid:m.state.currChanelId}}).then(function(t){m.commit("setCurrMainData",t.data.videoChannelList)})},C=function(t){return f.get("/secChlVideo.service",{params:t})},y=function(){return f.get("/bannerInfo.service",{params:{cid:m.state.currChanelId}}).then(function(t){m.commit("setCurrBannerData",t.data)})},g=function(t){return f.get("/videoDtl.service",{params:t})},w={name:"my-dialog",props:{title:{type:String,default:""},btnText:{type:String,default:"确定"},showCover:{type:Boolean,default:!0}},data:function(){return{msg:"this is from my-dialog.vue"}}},D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-dialog"},[n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"message"},[t._t("default")],2),t._v(" "),n("div",{staticClass:"confirm-btn",on:{click:function(e){t.$emit("click")}}},[t._v(t._s(t.btnText))]),t._v(" "),n("div",{staticClass:"close",on:{click:function(e){t.$emit("close")}}},[t._v("×")])]),t._v(" "),t.showCover?n("div",{staticClass:"cover"}):t._e()])},staticRenderFns:[]};var b=n("VU/8")(w,D,!1,function(t){n("/qmP")},"data-v-70404952",null).exports;p();var k={name:"App",components:{myDialog:b},computed:s()({},Object(v.c)(["vipDialogShow"])),methods:{clickFn:function(){location.href=_downloadLink,this.$store.commit("closeVipDialog")},closeFn:function(){this.$store.commit("closeVipDialog")}},mounted:function(){console.log("app mounted")}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("my-dialog",{directives:[{name:"show",rawName:"v-show",value:this.vipDialogShow,expression:"vipDialogShow"}],staticClass:"vipDialog",attrs:{message:"",btnText:"下载app"},on:{click:this.clickFn,close:this.closeFn}},[e("div",{staticClass:"download-logo"}),this._v(" "),e("div",{staticClass:"download-text"},[this._v("该视频为vip视频，请下载app观看")])])],1)},staticRenderFns:[]};var P=n("VU/8")(k,x,!1,function(t){n("Q+9m")},null,null).exports,L=n("/ocq"),V={name:"channel-list",data:function(){return{msg:"this is from channel-list.vue",activeIndex:0}},computed:s()({},Object(v.c)(["channelList"])),methods:{switchChannel:function(t,e){this.activeIndex=e,this.$store.commit("setCurrChanelId",t)}}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"channel-list"},[n("ul",{staticClass:"channel-list-ul"},t._l(t.channelList,function(e,i){return n("li",{key:e.id,class:{active:i===t.activeIndex},on:{click:function(n){t.switchChannel(e.id,i)}}},[t._v("\n      "+t._s(e.title)+"\n    ")])}))])},staticRenderFns:[]};var q=n("VU/8")(V,R,!1,function(t){n("PJEu")},"data-v-0cd02f72",null).exports,F={name:"my-header",data:function(){return{msg:"this is from my-header.vue"}},computed:s()({},Object(v.c)(["downloadLink"]))},$={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-header"},[e("div",{staticClass:"logo"}),this._v(" "),e("a",{staticClass:"download-btn",attrs:{href:this.downloadLink}},[this._v("下载APP")])])},staticRenderFns:[]};var S=n("VU/8")(F,$,!1,function(t){n("YYvV")},"data-v-6ec271e9",null).exports,U=n("Du36"),I=n.n(U),M=(n("F+tC"),{name:"banner-swiper",data:function(){return{msg:"this is from banner-swiper.vue"}},computed:s()({},Object(v.c)(["currBannerData","currChanelId"])),created:function(){},watch:{currChanelId:{handler:function(t,e){var n=this;y().then(function(){n.$nextTick(function(){new I.a(".swiper-container",{autoplay:5e3,loop:!0,pagination:".pagination"})})})},immediate:!0}}}),O={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},this._l(this.currBannerData,function(t){return e("router-link",{key:t.title,staticClass:"swiper-slide",style:{backgroundImage:"url("+t.imgUrl+")"},attrs:{to:{path:"/play",query:{videoSrc:t.targetUrl,id:t.targetId}}}})})),this._v(" "),e("div",{staticClass:"pagination"})])},staticRenderFns:[]};var j=n("VU/8")(M,O,!1,function(t){n("5cj6"),n("7SNP")},"data-v-890142de",null).exports,N={name:"son-channel",props:{data:{type:Object,required:!0},showViewMore:{type:Boolean,default:!0}},data:function(){return{msg:"this is from son-channel.vue"}},computed:{colClass:function(){return-1===[1,2,3].indexOf(this.data.channelType)?"col2":"col3"}},methods:{clickFn:function(t,e){0!==e.feeRule&&this.$store.commit("showVipDialog")}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"son-channel"},[n("h3",{staticClass:"son-channel-title"},[t._v(t._s(t.data.title))]),t._v(" "),n("ul",{staticClass:"video-list",class:t.colClass},t._l(t.data.channelContentList,function(e){return n("li",{key:e.id},[n("router-link",{attrs:{to:0===e.feeRule?{path:"/play",query:{id:e.id,videoSrc:e.videoUrl||e.videoPageUrl}}:""},nativeOn:{click:function(n){t.clickFn(n,e)}}},[n("div",{staticClass:"video-poster",style:{backgroundImage:"url("+e.imgUrl+")"}},[0!==e.feeRule?n("div",{staticClass:"vip-tag"},[t._v("会员")]):t._e(),t._v(" "),n("div",{staticClass:"right-bottom"},[t._v(t._s(e.rightDownTitle))])])]),t._v(" "),n("div",{staticClass:"movie-name"},[t._v(t._s(e.title))])],1)})),t._v(" "),t.showViewMore?n("router-link",{staticClass:"more",attrs:{to:{path:"/more",query:{cid:t.data.id,channelType:t.data.channelType,pageSize:100}}}},[t._v("\n    查看更多\n  ")]):t._e()],1)},staticRenderFns:[]};var T=n("VU/8")(N,E,!1,function(t){n("kpAS")},"data-v-e28955da",null).exports,A={name:"my-main",components:{bannerSwiper:j,sonChannel:T},data:function(){return{msg:"this is from my-main.vue"}},computed:s()({},Object(v.b)(["withoutChannelList"]),Object(v.c)(["currMainData","currChanelId"])),watch:{currChanelId:{handler:function(t,e){_()},immediate:!0}}},B={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"my-main",class:{"without-channel-list":this.withoutChannelList}},[e("banner-swiper",{key:this.currChanelId}),this._v(" "),this._l(this.currMainData,function(t){return e("son-channel",{key:t.id,attrs:{data:t}})})],2)},staticRenderFns:[]};var H={name:"index",components:{myHeader:S,channelList:q,myMain:n("VU/8")(A,B,!1,function(t){n("1Ww5")},"data-v-3c452356",null).exports},data:function(){return{msg:"this is from index.vue"}},computed:s()({},Object(v.b)(["withoutChannelList"]),Object(v.c)(["channelList"]))},J={render:function(){var t=this.$createElement,e=this._self._c||t;return this.channelList?e("div",{staticClass:"index"},[e("my-header"),this._v(" "),this.withoutChannelList?this._e():e("channel-list"),this._v(" "),e("my-main")],1):this._e()},staticRenderFns:[]};var Y=n("VU/8")(H,J,!1,function(t){n("RJPH")},"data-v-1e275507",null).exports,z=n("OAwv"),G=n.n(z),Q={name:"play",data:function(){return{msg:"this is from play.yvue",videoDetail:null}},computed:{urlParseRes:function(){var t=this.$route.query.videoSrc;return G.a.parseUrl(t)},formatViewNumber:function(){if(this.videoDetail){var t=this.videoDetail.viewNumber;return t<1e4?t:t<1e8?(t/1e4).toFixed(2)+"万":(t/1e8).toFixed(2)+"亿"}}},beforeCreate:function(){var t=this;g({id:this.$route.query.id}).then(function(e){t.videoDetail=e.data})}},W={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"play"},[t.urlParseRes.query.url?n("div",{staticClass:"iframe-container",class:-1!==t.urlParseRes.query.url.indexOf("iqiyi")?"iqiyi":"wasu"},[n("iframe",{attrs:{src:t.urlParseRes.query.url,frameborder:"0",scrolling:"no"}})]):n("video",{attrs:{src:t.urlParseRes.url,controls:"controls",autoplay:"autoplay"}},[t._v("\n    您的浏览器不支持 video 标签。\n  ")]),t._v(" "),t.videoDetail?[n("div",{staticClass:"video-play-detial"},[n("i",{staticClass:"view-number-icon"}),t._v(" "),n("span",{staticClass:"view-number"},[t._v(t._s(t.formatViewNumber))]),t._v(" "),n("span",{staticClass:"video-source"},[t._v("来源："+t._s(t.videoDetail.filmSource))])]),t._v(" "),n("div",{staticClass:"video-detial"},[n("div",{staticClass:"video-name"},[t._v(t._s(t.videoDetail.title))]),t._v(" "),t.videoDetail.score?n("div",{staticClass:"video-score"},[n("span",{staticClass:"video-score"},[t._v("评分：\n          "),n("span",{staticClass:"score-number"},[t._v(t._s(t.videoDetail.score))])])]):t._e(),t._v(" "),t.videoDetail.tags?n("div",{staticClass:"video-tags"},[t._v("类型："+t._s(t.videoDetail.tags))]):t._e(),t._v(" "),t.videoDetail.year?n("div",{staticClass:"video-year"},[t._v("上映年份："+t._s(t.videoDetail.year))]):t._e(),t._v(" "),t.videoDetail.director?n("div",{staticClass:"video-director"},[t._v("导演："+t._s(t.videoDetail.director))]):t._e(),t._v(" "),t.videoDetail.leadingRole?n("div",{staticClass:"video-leadingRole"},[t._v("主演："+t._s(t.videoDetail.leadingRole))]):t._e(),t._v(" "),t.videoDetail.description?n("div",{staticClass:"video-desc"},[t._v("简介："+t._s(t.videoDetail.description))]):t._e()])]:t._e()],2)},staticRenderFns:[]};var K=n("VU/8")(Q,W,!1,function(t){n("8qmP")},"data-v-7f38294b",null).exports,X={name:"more",components:{sonChannel:T},data:function(){return{msg:"this is from more.vue",moreData:null}},created:function(){var t=this;C(this.$route.query).then(function(e){var n=e.data;n.channelType=t.$route.query.channelType,2197===parseInt(t.$route.query.cid)&&(n.title="最新预告片"),t.moreData=n})}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"more"},[this.moreData?e("son-channel",{attrs:{data:this.moreData,showViewMore:!1}}):this._e()],1)},staticRenderFns:[]};var tt=n("VU/8")(X,Z,!1,function(t){n("Lsfi")},"data-v-e77fe758",null).exports;i.a.use(L.a);var et=new L.a({routes:[{path:"/",name:"index",component:Y},{path:"/play",name:"play",component:K},{path:"/more",name:"more",component:tt}]});n("vGMN");i.a.config.productionTip=!1,new i.a({el:"#app",router:et,store:m,components:{App:P},template:"<App/>"})},PJEu:function(t,e){},"Q+9m":function(t,e){},QmSG:function(t,e){t.exports={baseUrl:"http://mzyb-cps.hzsouy.com/mzyb-cps"}},RJPH:function(t,e){},YYvV:function(t,e){},kpAS:function(t,e){},vGMN:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fa6d491059b9c1f4c644.js.map